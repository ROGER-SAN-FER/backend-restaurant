{"openapi":"3.0.1","info":{"title":"Restaurant API","description":"Documentación de endpoints para el backend del restaurante. Se puede hacer el CRUD\n de tipos y platillos, también se puede guardar fotos por platillo.\n\n**Desarrollador:** Roger Roy Sánchez Fernández  \n\n**Correo:** roger190892@gmail.com  \n\n**LinkedIn:** https://www.linkedin.com/in/roger-sanchez-fernandez/  \n\n**GitHub:** https://github.com/ROGER-SAN-FER\n","version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"basicAuth":[]}],"tags":[{"name":"Platillos","description":"Endpoints para gestionar platillos del restaurante"},{"name":"Tipos","description":"Endpoints para gestionar tipos de platillos"}],"paths":{"/api/tipos/{id}":{"get":{"tags":["Tipos"],"summary":"Obtener tipo por ID","description":"Devuelve la información de un tipo de platillo a partir de su identificador.","operationId":"obtenerPorId","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Tipo encontrado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TipoResponseDto"}}}},"404":{"description":"Tipo no encontrado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TipoResponseDto"}}}}}},"put":{"tags":["Tipos"],"summary":"Actualizar tipo","description":"Actualiza un tipo de platillo existente con los datos enviados en el cuerpo de la solicitud.","operationId":"actualizar","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TipoRequestDto"}}},"required":true},"responses":{"200":{"description":"Tipo actualizado con éxito","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TipoResponseDto"}}}},"404":{"description":"Tipo no encontrado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TipoResponseDto"}}}}}},"delete":{"tags":["Tipos"],"summary":"Eliminar tipo","description":"Elimina un tipo de platillo del sistema por su identificador.","operationId":"eliminar","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Tipo eliminado con éxito","content":{"*/*":{"schema":{"type":"string"}}}},"404":{"description":"Tipo no encontrado","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/platillos/{id}":{"get":{"tags":["Platillos"],"summary":"Obtener platillo por ID","description":"Devuelve la información de un platillo a partir de su identificador.","operationId":"obtenerPorId_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Platillo encontrado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PlatilloResponseDto"}}}},"404":{"description":"Platillo no encontrado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PlatilloResponseDto"}}}}}},"put":{"tags":["Platillos"],"summary":"Actualizar platillo","description":"Actualiza un platillo existente con los datos enviados en el cuerpo de la solicitud.","operationId":"actualizar_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlatilloRequestDto"}}},"required":true},"responses":{"200":{"description":"Platillo actualizado con éxito","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PlatilloResponseDto"}}}},"404":{"description":"Platillo no encontrado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PlatilloResponseDto"}}}}}},"delete":{"tags":["Platillos"],"summary":"Eliminar platillo","description":"Elimina un platillo del sistema por su identificador.","operationId":"eliminar_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Platillo eliminado con éxito","content":{"*/*":{"schema":{"type":"string"}}}},"404":{"description":"Platillo no encontrado","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/tipos":{"get":{"tags":["Tipos"],"summary":"Listar todos los tipos","description":"Obtiene una lista con todos los tipos de platillo registrados en el sistema.","operationId":"listarTodosDTO","responses":{"200":{"description":"Lista obtenida con éxito","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TipoResponseDto"}}}}}},"post":{"tags":["Tipos"],"summary":"Crear tipo","description":"Crea un nuevo tipo de platillo con los datos enviados en el cuerpo de la solicitud.","operationId":"crear","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TipoRequestDto"}}},"required":true},"responses":{"201":{"description":"Tipo creado con éxito","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TipoResponseDto"}}}},"400":{"description":"Datos inválidos","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TipoResponseDto"}}}}}}},"/api/platillos":{"get":{"tags":["Platillos"],"summary":"Listar todos los platillos","description":"Obtiene una lista con todos los platillos registrados en el sistema.","operationId":"listarTodos","responses":{"200":{"description":"Lista obtenida con éxito","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlatilloResponseDto"}}}}}},"post":{"tags":["Platillos"],"summary":"Crear un platillo","description":"Crea un nuevo platillo con los datos enviados en el cuerpo de la solicitud.","operationId":"crear_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlatilloRequestDto"}}},"required":true},"responses":{"201":{"description":"Platillo creado con éxito","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PlatilloResponseDto"}}}},"400":{"description":"Datos inválidos","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PlatilloResponseDto"}}}}}}},"/api/platillos/{id}/foto":{"get":{"tags":["Platillos"],"summary":"Obtener URL de la foto","description":"Devuelve la URL pública de la foto asociada a un platillo.","operationId":"obtenerFotoUrl","parameters":[{"name":"id","in":"path","description":"ID del platillo cuya foto pública se desea obtener","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"200":{"description":"URL obtenida con éxito","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}},"404":{"description":"Foto o platillo no encontrado","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}},"post":{"tags":["Platillos"],"summary":"Subir o actualizar foto","description":"Sube o actualiza la foto de un platillo y devuelve su URL pública.","operationId":"subirFoto","parameters":[{"name":"id","in":"path","description":"ID del platillo al que se le subirá o actualizará la foto","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","description":"Archivo de imagen en formato JPG o PNG","format":"binary"}}}}}},"responses":{"201":{"description":"Foto subida con éxito","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}},"404":{"description":"Platillo no encontrado","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}},"delete":{"tags":["Platillos"],"summary":"Borrar foto de platillo","description":"Elimina la foto asociada a un platillo.","operationId":"borrarFoto","parameters":[{"name":"id","in":"path","description":"ID del platillo cuya foto se desea eliminar","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"204":{"description":"Foto eliminada con éxito"},"404":{"description":"Foto o platillo no encontrado"}}}}},"components":{"schemas":{"TipoRequestDto":{"required":["nombre"],"type":"object","properties":{"nombre":{"maxLength":35,"minLength":4,"type":"string","description":"Nombre del tipo de platillo","example":"Ensaladas"}},"description":"Datos para crear o actualizar un tipo de platillo"},"TipoResponseDto":{"type":"object","properties":{"id":{"type":"integer","description":"Identificador del tipo de platillo","format":"int64","example":1},"nombre":{"type":"string","description":"Nombre del tipo de platillo","example":"Ensaladas"}},"description":"Respuesta con los datos de un tipo de platillo"},"PlatilloRequestDto":{"required":["nombre","precio","tipoId"],"type":"object","properties":{"nombre":{"maxLength":35,"minLength":4,"type":"string","description":"Nombre del platillo","example":"Ensalada César"},"precio":{"type":"number","description":"Precio del platillo en euros","format":"double","example":12.5},"insumos":{"type":"array","description":"Lista de insumos o ingredientes del platillo","example":["Lechuga","Pollo","Queso parmesano"],"items":{"type":"string","description":"Lista de insumos o ingredientes del platillo","example":"[\"Lechuga\",\"Pollo\",\"Queso parmesano\"]"}},"tipoId":{"type":"integer","description":"Identificador del tipo de platillo","format":"int64","example":1}},"description":"Datos para crear o actualizar un platillo en el restaurante"},"PlatilloResponseDto":{"type":"object","properties":{"id":{"type":"integer","description":"Identificador del platillo","format":"int64","example":10},"nombre":{"type":"string","description":"Nombre del platillo","example":"Ensalada César"},"precio":{"type":"number","description":"Precio del platillo en euros","format":"double","example":12.5},"insumos":{"type":"array","description":"Lista de insumos o ingredientes","example":["Lechuga","Pollo","Queso parmesano"],"items":{"type":"string","description":"Lista de insumos o ingredientes","example":"[\"Lechuga\",\"Pollo\",\"Queso parmesano\"]"}},"fotoPath":{"type":"string","description":"Ruta de la foto asociada al platillo","example":"fotos/ensalada_cesar.jpg"},"tipoId":{"type":"integer","description":"ID del tipo de platillo","format":"int64","example":1},"tipoNombre":{"type":"string","description":"Nombre del tipo de platillo","example":"Ensaladas"}},"description":"Respuesta con los datos de un platillo"}},"securitySchemes":{"basicAuth":{"type":"http","scheme":"basic"}}}}